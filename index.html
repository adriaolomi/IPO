<html>
   <head>
      <link rel="stylesheet" href="graph-style.css">
      <link rel="stylesheet" href="form.css">
      <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
   </head>
   <body>
      <div style="float:left;">
         <ul id="list"></ul>
         <div id="mynetwork"></div>
         <div id="info"></div>
        <div class="container" style="float:center;">
            <form id="form-data" class="form">
               <button id="exportar">Exportar</button> <button id="importar">Importar</button>
            </form>
         </div>
          </div>
      
      <script type="text/javascript">
         var color = "gray";
         var len = undefined;
         
         var nodes = [
           { id: 0, label: "0maria", group: 0 },
           { id: 1, label: "1", group: 0 },
           { id: 2, label: "2", group: 0 },
           { id: 3, label: "3", group: 1 },
           { id: 4, label: "4", group: 1 },
         ];
         var edges = [
           { from: 1, to: 0 },
           { from: 2, to: 0 },
           { from: 4, to: 3 },
           { from: 5, to: 4 },
           { from: 4, to: 0 },
           { from: 7, to: 6 },
           { from: 8, to: 7 },
           { from: 7, to: 0 },
         ];
         
         // create a network
         var container = document.getElementById("mynetwork");
         var data = {
           nodes: nodes,
           edges: edges,
         };
         var options = {
           nodes: {
             shape: "dot",
             size: 30,
             font: {
               size: 32,
               color: "#ffffff",
             },
             borderWidth: 2,
           },
           edges: {
             width: 2,
           },
         };
         network = new vis.Network(container, data, options);
         
      </script>
      <div class="col-sm-6" style="float:center;">
         <div class="container" style="float:center;">
            <form id="form-contactos" class="form">
               <div class="form-control">
                  <label for="ID-infectado">ID infectado</label>
                  <input type="text" placeholder="1" id="ID-infectado" />
                  <i class="fas fa-check-circle"></i>
                  <i class="fas fa-exclamation-circle"></i>
                  <small>Error message</small>
               </div>
               <div class="form-control">
                  <label for="ID-posible-contagio">ID posible contagio</label>
                  <input type="text" placeholder="2" id="ID-posible-contagio" />
                  <i class="fas fa-check-circle"></i>
                  <i class="fas fa-exclamation-circle"></i>
                  <small>Error message</small>
               </div>
               <button>Añadir contacto</button>
            </form>
         </div>
         <div id="grid-container">
            <div class="container">
               <form id="form-nodo" class="form">
                  <div class="form-control">
                     <label for="nodo-nombre">Nombre</label>
                     <input type="text" placeholder="1" id="nodo-nombre" />
                     <i class="fas fa-check-circle"></i>
                     <i class="fas fa-exclamation-circle"></i>
                     <small>Error message</small>
                  </div>
                  <div class="form-control">
                     <label for="nodo-apellido">Apellido</label>
                     <input type="text" placeholder="2" id="nodo-apellido" />
                     <i class="fas fa-check-circle"></i>
                     <i class="fas fa-exclamation-circle"></i>
                     <small>Error message</small>
                  </div>
                  <div class="form-control">
                     <label for="nodo-telefono">Teléfono</label>
                     <input type="text" placeholder="2" id="nodo-telefono" />
                     <i class="fas fa-check-circle"></i>
                     <i class="fas fa-exclamation-circle"></i>
                     <small>Error message</small>
                  </div>
                  <div class="form-control">
                     <label for="nodo-edad">Edad</label>
                     <input type="text" placeholder="2" id="nodo-edad" />
                     <i class="fas fa-check-circle"></i>
                     <i class="fas fa-exclamation-circle"></i>
                     <small>Error message</small>
                  </div>
                  <div>
                     <label>Patologias previas        <input type="checkbox" class="checkbox-class" id="nodo-patologias"/></label>
                  </div>
                  <button>Añadir contacto</button>
               </form>
            </div>
             
         </div>
      </div>
      <script>
        var globalID = nodes.length; 
          
        const formContacto = document.getElementById('form-contactos'); 
        const idInfectado = document.getElementById('ID-infectado');
        const idPosibleContagio = document.getElementById('ID-posible-contagio'); 
        formContacto.addEventListener('submit', e => {
            e.preventDefault() 
            addEdge(idInfectado.value, idPosibleContagio.value)  
         }) 

        const formNodos = document.getElementById('form-nodo');
        const nodoNombre = document.getElementById('nodo-nombre'); 
        const nodoApellido = document.getElementById('nodo-apellido'); 
        const nodoTelefono = document.getElementById('nodo-telefono'); 
        const nodoEdad = document.getElementById('nodo-edad');
        const nodoPatologias = document.getElementById('nodo-patologias'); 
        formNodos.addEventListener('submit', e => {
            e.preventDefault()
            
            addNode(nodoNombre.value, nodoApellido.value, nodoTelefono.value, parseInt(nodoEdad.value), nodoPatologias.value)
        })
          
        const exportar = document.getElementById('exportar');
        exportar.addEventListener('click', e => {
            e.preventDefault()
        })
          
        const importar = document.getElementById('importar'); 
        importar.addEventListener('click', e => {
            e.preventDefault()
        })
          
        function checkInputsContacto() {
            
        }  
          
        function checkInputsNodo() {
            
        }
        
        function getGroup(age, patology) {
            
        } 
        
        function addEdge(node1, node2) {
            alert(node1+"+"+node2)
            edges.push({from: node1, to: node2})
        }
        
        function addNode(name, surname, phone, age, patology) {
            nodes.push({id: globalID, label: (name+" "+surname+"("+globalID+")"), group: 1})
            network = new vis.Network(container, data, options);
            globalID++
        }
          
        network.on("doubleClick", function(properties) {
            alert("Alerta")
        });
          
        function exportData() {
            
        }
          
        function importData() {
            
        }
          
      </script>
   </body>
</html>